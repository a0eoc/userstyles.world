"use strict";
(()=>{var C=Object.defineProperty;var v=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var L=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&L(e,n,t[n]);if(v)for(var n of v(t))R.call(t,n)&&L(e,n,t[n]);return e};var g=typeof MediaQueryList=="function"&&typeof MediaQueryList.prototype.addEventListener=="function";var S=e=>{document.documentElement.setAttribute("data-color-scheme",e)},M=e=>{let t=document.head.querySelector('meta[name="color-scheme"]');t&&(t.content=e)},i=matchMedia("(prefers-color-scheme: light)"),c=()=>{i.matches?S("light"):S("dark")};function f(e){switch(e){case"follow-system":{c(),M("dark light"),g?i.addEventListener("change",c):i.addListener(c);break}default:S(e),M(e),g?i.removeEventListener("change",c):i.removeListener(c);break}}function w(){let e=document.getElementById("share"),t=document.getElementById("btn-share");t&&t.addEventListener("click",()=>{e.select(),document.execCommand("copy"),e.blur(),t.classList.add("copied")})}var N=e=>{if(!(!e.data||!e.data.type))switch(e.data.type){case"usw-remove-stylus-button":document.querySelector("a#stylus").remove()}};window.addEventListener("message",N);function B(){window.dispatchEvent(new MessageEvent("message",{data:{type:"usw-ready"},origin:"https://userstyles.world"}))}var l={colorScheme:"follow-system"},d="user-preferences",o=null;function m(){if(o)return o;let e=localStorage.getItem(d);if(!e)return localStorage.setItem(d,JSON.stringify(l)),l;let t=I(JSON.parse(e),l);return o=a(a({},l),t),localStorage.setItem(d,JSON.stringify(o)),o}function b(e){o=a(a({},o),e),localStorage.setItem(d,JSON.stringify(o))}function I(e,t){let n={};return e==null||typeof e!="object"||Array.isArray(e)?null:(Object.keys(e).forEach(s=>{let r=e[s];if(r==null||t[s]==null)return;let p=Array.isArray(r),E=Array.isArray(t[s]);p||E?p&&E&&(n[s]=r):typeof r=="object"&&typeof t[s]=="object"?n[s]=I(r,t[s]):typeof r==typeof t[s]&&(n[s]=r)}),n)}var y="usr-settings";function U(e){!window.location.pathname.startsWith("/account")||(document.getElementById(`${y}--color-scheme`).value=e.colorScheme)}function x(e){let t=document.getElementById(`${y}--save`);t&&t.addEventListener("click",()=>{let n={};n.colorScheme=document.getElementById(`${y}--color-scheme`).value,b(n),e()})}var h=new Set,u=()=>document.readyState==="complete"||document.readyState==="interactive",T=e=>h.add(e);if(!u()){let e=()=>{u()&&(document.removeEventListener("readystatechange",e),h.forEach(t=>t()),h.clear())};document.addEventListener("readystatechange",e)}var O=()=>{w(),B(),x(D),U(m())};u()?O():T(O);var D=()=>{let e=m();f(e.colorScheme)};f(m().colorScheme);})();
