<section class="header flex f-col ta:c">
	<h1>Search</h1>
	<p>Sorted from most to least relevant results by default.</p>
</section>

<section class="mt:m">
	<form class="Form Form-inline jc:c" method="get" action="/search">
		<div class="Form-section Form-row">
			<label for="q">Search keyword</label>
			<div class="Form-row">
				<input
					type="search" {{ if and .flags.SearchAutofocus (not .Styles) }}autofocus{{ end }} name="q" id="q"
					value="{{ .Keyword }}"
					required pattern=".+"
					placeholder="e.g. dark">
			</div>
		</div>

		<div class="Form-section Form-control">
			<button
				type="submit"
				class="btn icon primary"
			>{{ template "icons/search" }} Search</button>
		</div>

		{{ if and .Keyword .Styles }}
			{{ template "partials/form-sort" . }}
		{{ end }}
	</form>
</section>

<section class="mt:m">
	{{ if .Styles }}
		{{ if .Metrics }}
			<div class="search-perf-metrics">
				<span class="f:b">Search engine metrics:</span>
				<span>Found {{ .Metrics.Total }} results in {{ Elapsed .Metrics.TimeSpent }}.</span>
			</div>
		{{ end }}

		<div class="grid flex rwrap mx:r mt:m">
			{{ range .Styles }}
				{{ template "partials/style-card" . }}
			{{ end }}
		</div>
	{{ else if .Error }}
		<div role="alert" class="err">{{ .Error | unescape }}</div>
	{{ else }}
		<div class="ta:c">
			<p>Please try searching for something.</p>
		</div>
	{{ end }}
</section>

{{ if .Pagination.Show }}
	{{ template "partials/pagination" .Pagination }}
{{ end }}
